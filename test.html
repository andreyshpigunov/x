<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Slider test</title>
<style>
  body { margin:0; font-family:sans-serif; }

  [x-slider] {
    width: 100%;
    max-width: 400px;
    margin: 50px auto;
    overflow: hidden;
    border: 2px solid #ccc;
    border-radius: 8px;
  }

  [x-slider] .slider-wrapper {
    display: flex;
    will-change: transform;
  }

  [x-slider] .slide {
    flex: 0 0 100%;
    height: 200px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:40px;
    color:white;
  }

  .s1 { background: tomato; }
  .s2 { background: steelblue; }
  .s3 { background: seagreen; }
</style>
</head>
<body>

<div x-slider>
  <div class="slider-wrapper">
    <div class="slide s1">1</div>
    <div class="slide s2">2</div>
    <div class="slide s3">3</div>
  </div>
</div>

<script>
  const el = document.querySelector('[x-slider]');
  const wrapper = el.querySelector('.slider-wrapper');
  const slides = [...el.querySelectorAll('.slide')];
  let current = 0;

  const setSlide = (i) => {
    current = Math.max(0, Math.min(i, slides.length - 1));
    wrapper.style.transition = 'transform 0.3s ease-out';
    wrapper.style.transform = `translateX(-${current * 100}%)`;
  };

  // свайп
  let startX=0, startY=0, moving=false;
  wrapper.addEventListener('touchstart', e=>{
    const t = e.touches[0];
    startX=t.clientX; startY=t.clientY;
    moving=true;
  });
  wrapper.addEventListener('touchend', e=>{
    if (!moving) return;
    moving=false;
    const t = e.changedTouches[0];
    const dx = t.clientX - startX;
    const dy = t.clientY - startY;
    if (Math.abs(dy) > Math.abs(dx)) return;
    if (dx > 50 && current>0) setSlide(current-1);
    else if (dx < -50 && current<slides.length-1) setSlide(current+1);
  });
</script>

</body>
</html>
